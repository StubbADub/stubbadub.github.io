{"version":3,"sources":["utils/timelines.js","containers/EmotionChip.jsx","components/Footer.jsx","components/Emotions.jsx","components/Emotion.jsx","index.js"],"names":["gsap","registerPlugin","Timeline","Power1","play","pathname","node","appears","document","body","className","delay","timeline","paused","from","duration","autoAlpha","ease","easeIn","chips","querySelectorAll","i","length","getPageTransitionTimeline","EmotionChip","label","icon","iconFirst","url","cssClass","chipClick","chipObj","onClick","indexOf","to","href","target","Footer","Date","getFullYear","Emotions","data","useLayoutEffect","emotions","map","k","title","toLowerCase","shareApi","navigator","share","location","then","catch","console","error","Emotion","emotion","useParams","useState","country","setCountry","emotionObj","find","useEffect","callback","backgroundNum","Math","floor","random","backgrounds","backgroundObj","style","backgroundColor","color","fetch","r","json","helplines","ipdata","filter","country_name","positive","phones","links","ReactDOM","render","key","TransitionGroup","component","Transition","appear","onEnter","onExit","easeOut","exit","timeout","enter","exact","path","getElementById"],"mappings":"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","file":"static/js/main.3cfc24ea.chunk.js","sourcesContent":["import {gsap, TimelineMax as Timeline, Power1 } from 'gsap';\r\ngsap.registerPlugin(Timeline, Power1);\r\n\r\nconst getPageTransitionTimeline = (node, delay) => {\r\n  const timeline = new Timeline({ paused: true });\r\n  timeline\r\n    .from(node, {duration: delay, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h2', {duration: delay, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h1', {duration: delay, autoAlpha: 0, ease: Power1.easeIn })\r\n    .from('h3', {duration: delay, autoAlpha: 0, ease: Power1.easeIn });\r\n\r\n  var chips = document.querySelectorAll('.e-chip');\r\n  for(var i=0; i<chips.length; i++){\r\n    timeline.from(chips[i], {duration: delay/2, autoAlpha: 0, ease: Power1.easeIn }, \"+=0\");\r\n  }\r\n\r\n\r\n  return timeline;\r\n}\r\n\r\nexport const play = (pathname, node, appears) => {\r\n  const delay = 0.4\r\n  let timeline\r\n\r\n  if(pathname == '/'){\r\n    document.body.className='emotions';\r\n  }\r\n\r\n  timeline = getPageTransitionTimeline(node, delay);\r\n  timeline.play();  \r\n}\r\n\r\nexport const exit = (node) => {\r\n  const timeline = new Timeline({ paused: true });\r\n\r\n  timeline.to(node, 0.4, { autoAlpha: 0, ease: Power1.easeOut });\r\n  timeline.play();\r\n}\r\n","import React, {useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport styles from './EmotionChip.css';\r\n\r\nconst EmotionChip = ({label, icon, iconFirst, url, cssClass = '', chipClick}) => {\r\n    let chipObj = <span className={`e-chip ${cssClass}`} onClick={chipClick}> \r\n        {iconFirst&&<i>{icon}</i>}\r\n        &nbsp;{label}&nbsp;\r\n        {!iconFirst&&<i>{icon}</i>}\r\n    </span>;\r\n\r\n    if(url){\r\n        if(url.indexOf('/')==0){\r\n            return <Link className=\"e-chip-link\" to={url}>{chipObj}</Link>\r\n        }else{\r\n            return <a className=\"e-chip-link\" href={url} target={\"_blank\"}>{chipObj}</a>\r\n        }\r\n    }\r\n    return(chipObj);\r\n}\r\nexport default EmotionChip;","import React, {useEffect} from 'react';\r\nimport styles from './Footer.css';\r\n\r\nconst Footer = () => {\r\n    return(\r\n    <div className=\"footer\">\r\n        <a href=\"https://itstotallyok.com\"><i>💚</i> <b>itstotallyok</b>.com</a>\r\n        <span>© Fade Rudman {(new Date()).getFullYear()}. All Rights Reserved.</span>\r\n    </div>);\r\n}\r\nexport default Footer;","import { Chip } from 'material-ui';\r\nimport React, {useEffect, useLayoutEffect} from 'react';\r\nimport styles from './Emotions.css';\r\nimport EmotionChip from '../containers/EmotionChip';\r\nimport Footer from '../components/Footer';\r\nimport emotions from '../data/emotions.json';\r\n\r\nconst Emotions = ({data}) => {\r\n    useLayoutEffect(() => {        \r\n        document.body.className='emotions';\r\n    });\r\n    \r\n    return(\r\n    <>\r\n        <div className=\"emotions-container\">\r\n            <h3>How Do You Feel?</h3>\r\n            {data.emotions.map((i,k)=>{ return <EmotionChip label={i.title} icon={i.icon} iconFirst={false} url={`/${i.title.toLowerCase()}`} key={k}/>})}\r\n        \r\n        </div>\r\n        <Footer/>\r\n    </>);\r\n}\r\nexport default Emotions;","import React, {useEffect, useState} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport styles from './Emotion.css';\r\nimport EmotionChip from '../containers/EmotionChip';\r\nimport Footer from '../components/Footer';\r\n\r\n\r\nconst geoLocation = (callback) => {\r\n    fetch(`/data/helplines.json`) // Get the helplines in each country \r\n    .then((r) => r.json())\r\n    .then((helplines) =>{\r\n        fetch(`https://ipapi.co/json/`) // Get country by ip\r\n        .then((r) => r.json())\r\n        .then((ipdata) =>{\r\n            var country = helplines.filter(i=>i.country == ipdata.country_name); \r\n            callback(country[0]||{});\r\n        })\r\n    })\r\n}\r\n\r\n\r\nconst shareApi = () => {\r\n    if(navigator.share){\r\n        navigator.share({\r\n            title: \"It's Totally OK\",\r\n            url: document.location.href\r\n          }).then(() => {})\r\n          .catch(console.error);\r\n    }\r\n}\r\n\r\nconst Emotion = ({data}) => {\r\n    let {emotion} = useParams();\r\n    const [country, setCountry] = useState({})\r\n    emotion = emotion.toLowerCase();\r\n    \r\n    const emotionObj = data.emotions.find(i=>i.title.toLowerCase()==emotion);\r\n    \r\n    \r\n    useEffect(() => {      \r\n        if(!emotionObj)  \r\n            return;\r\n\r\n        const backgroundNum = Math.floor(Math.random() * data.backgrounds.length);\r\n        const backgroundObj = data.backgrounds[backgroundNum];\r\n\r\n        document.body.className = `emotion ${backgroundObj[\"light-content\"]?'light':'dark'}`;\r\n        document.body.style.backgroundColor = backgroundObj.color;\r\n\r\n        geoLocation(setCountry);\r\n\r\n        return () => {\r\n            document.body.className = ``;\r\n            document.body.style.backgroundColor = null;\r\n        };\r\n\r\n    },[emotionObj]);\r\n\r\n    return(\r\n    <><div className=\"emotion-container\">\r\n        <div className=\"title\">\r\n            <h2>It's totally</h2><h1>OK</h1><h3>to feel {emotionObj.title.toLowerCase()} <i>{emotionObj.icon}</i></h3>\r\n        </div>\r\n        <div className=\"links\">\r\n            {!emotionObj.positive && country.phones && <EmotionChip label={\"Call Local Helpline\"} icon={\"📞\"} iconFirst={true} url={`tel:${country.phones[0]}`} />}\r\n            {emotionObj.links.map((i,k)=>{ return i.title ? <EmotionChip label={i.title} icon={i.icon} iconFirst={true} url={i.url} key={k}/> : null})}            \r\n            <EmotionChip cssClass={\"share\"} label={\"Share\"} icon={\"↗️\"} iconFirst={true} chipClick={shareApi}/>\r\n        </div>\r\n       \r\n    </div>\r\n    <Footer/></>);\r\n}\r\nexport default Emotion;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router,Switch,Route} from \"react-router-dom\";\nimport { Transition, TransitionGroup } from 'react-transition-group';\nimport {play, exit} from './utils/timelines';\nimport backgrounds from './data/backgrounds.json';\n\nimport './index.css';\nimport Emotions from './components/Emotions';\nimport Emotion from './components/Emotion';\n\n\n\nfetch(`/data/config.json`)\n.then((r) => r.json())\n.then((data) =>{\n  ReactDOM.render(\n    <Router>\n        <Route render={({location})=>{\n          const { pathname, key } = location\n          return(\n            <TransitionGroup component={null}>\n              <Transition\n                key={key}\n                appear={true}\n                onEnter={(node, appears) => play(pathname, node, appears)}\n                onExit={(node, appears) => exit(node, appears)}\n                timeout={{enter: 0, exit: 0}}\n              >\n                <Switch location={location}>\n                  <Route exact path=\"/\"><Emotions  data={data}/></Route>\n                  <Route path=\"/:emotion\"><Emotion  data={data}/></Route>\n                </Switch>\n              </Transition>                \n            </TransitionGroup>\n          )\n        }}/>\n    </Router>,\ndocument.getElementById('root')\n);\n})\n\n"],"sourceRoot":""}